<div class="container">
  <h1>Next.js Server Components</h1>
  <p>React Server Components allow you to render components on the server, reducing client-side JavaScript and improving performance.</p>

  <mat-tab-group>
    <mat-tab label="Server Components">
    <ng-template matTabContent>
      <div class="tab-content">
        <h2>Server Components</h2>
        <div class="info-box">
          <p><strong>Server Components</strong> are the default in Next.js App Router and render on the server.</p>
          <ul>
            <li>Default in App Router (no directive needed)</li>
            <li>Can be async functions</li>
            <li>Direct database and API access</li>
            <li>Zero JavaScript shipped to client</li>
            <li>Better security (sensitive data stays on server)</li>
            <li>Automatic code splitting</li>
          </ul>
        </div>
        <pre><code class="language-tsx">{{serverComponentBasics}}</code></pre>
      </div>
    </ng-template>
  </mat-tab>

    <mat-tab label="Client Components">
    <ng-template matTabContent>
      <div class="tab-content">
        <h2>Client Components</h2>
        <div class="info-box">
          <p><strong>Client Components</strong> render in the browser and support interactivity.</p>
          <ul>
            <li>Mark with 'use client' directive</li>
            <li>Use React hooks (useState, useEffect, etc.)</li>
            <li>Event listeners (onClick, onChange, etc.)</li>
            <li>Access browser APIs</li>
            <li>Custom hooks</li>
            <li>Context API</li>
          </ul>
        </div>
        <pre><code class="language-tsx">{{clientComponentBasics}}</code></pre>
      </div>
    </ng-template>
  </mat-tab>

    <mat-tab label="Composition">
    <ng-template matTabContent>
      <div class="tab-content">
        <h2>Component Composition</h2>
        <div class="info-box">
          <p>Combine Server and Client Components for optimal performance.</p>
          <ul>
            <li>Server Components can import Client Components</li>
            <li>Pass Server Components as children to Client Components</li>
            <li>Keep as much on server as possible</li>
            <li>Client Components convert children to client</li>
            <li>Use props to pass data from server to client</li>
            <li>Strategic placement improves performance</li>
          </ul>
        </div>
        <pre><code class="language-tsx">{{composition}}</code></pre>
      </div>
    </ng-template>
  </mat-tab>

    <mat-tab label="Patterns">
    <ng-template matTabContent>
      <div class="tab-content">
        <h2>Composition Patterns</h2>
        <div class="info-box">
          <p>Best practices for composing Server and Client Components.</p>
          <ul>
            <li>✅ Pass Server Components as children props</li>
            <li>✅ Keep Server Components at top level</li>
            <li>❌ Don't import Server into Client Components</li>
            <li>Use composition over direct imports</li>
            <li>Minimize Client Component boundaries</li>
            <li>Default to Server Components</li>
          </ul>
        </div>
        <pre><code class="language-tsx">{{patterns}}</code></pre>
      </div>
    </ng-template>
  </mat-tab>

    <mat-tab label="Data Flow">
    <ng-template matTabContent>
      <div class="tab-content">
        <h2>Data Flow</h2>
        <div class="info-box">
          <p>How data flows between Server and Client Components.</p>
          <ul>
            <li>Server Components fetch data</li>
            <li>Pass data as props to Client Components</li>
            <li>Props must be serializable (JSON)</li>
            <li>Can't pass functions or class instances</li>
            <li>Server renders first, then hydrates client</li>
            <li>Client Components can fetch more data</li>
          </ul>
        </div>
        <pre><code class="language-tsx">{{dataFlow}}</code></pre>
      </div>
    </ng-template>
  </mat-tab>

    <mat-tab label="When to Use">
    <ng-template matTabContent>
      <div class="tab-content">
        <h2>When to Use Each</h2>
        <div class="info-box">
          <p>Guidelines for choosing between Server and Client Components.</p>
          <ul>
            <li><strong>Server:</strong> Data fetching, static content, backend access</li>
            <li><strong>Client:</strong> Interactivity, hooks, browser APIs</li>
            <li>Default to Server Components</li>
            <li>Add 'use client' only when necessary</li>
            <li>Move interactivity down the tree</li>
            <li>Keep bundle size small</li>
          </ul>
        </div>
        <pre><code class="language-tsx">{{whenToUse}}</code></pre>
      </div>
    </ng-template>
  </mat-tab>

    <mat-tab label="Context Providers">
    <ng-template matTabContent>
      <div class="tab-content">
        <h2>Context Providers</h2>
        <div class="info-box">
          <p>Context providers must be Client Components but can wrap Server Components.</p>
          <ul>
            <li>Providers need 'use client'</li>
            <li>Wrap in root layout</li>
            <li>Children can be Server Components</li>
            <li>Use for theme, auth, i18n</li>
            <li>Create separate providers file</li>
            <li>Import context hooks in Client Components</li>
          </ul>
        </div>
        <pre><code class="language-tsx">{{contextProviders}}</code></pre>
      </div>
    </ng-template>
  </mat-tab>

    <mat-tab label="Third-Party Libraries">
    <ng-template matTabContent>
      <div class="tab-content">
        <h2>Third-Party Libraries</h2>
        <div class="info-box">
          <p>Wrap third-party components that need client-side features.</p>
          <ul>
            <li>Many libraries need 'use client' wrapper</li>
            <li>Create wrapper components</li>
            <li>Keep wrapper minimal</li>
            <li>Libraries using hooks need client</li>
            <li>Libraries using browser APIs need client</li>
            <li>Isolate to smallest component</li>
          </ul>
        </div>
        <pre><code class="language-tsx">{{thirdPartyLibraries}}</code></pre>
      </div>
    </ng-template>
  </mat-tab>
  </mat-tab-group>
</div>
